(function(a){"object"===typeof module&&module.exports?module.exports=a:a(Highcharts)})(function(a){(function(c){var d=c.deg2rad,e=c.pick;c.perspective=function(i,b,D){var u=b.options.chart.options3d,o=D?b.inverted:!1,r=b.plotWidth/2,y=b.plotHeight/2,l=u.depth/2,s=e(u.depth,1)*e(u.viewDistance,0),w=b.scale3d||1,B=d*u.beta*(o?-1:1),u=d*u.alpha*(o?-1:1),n=Math.cos(u),C=Math.cos(-B),x=Math.sin(u),j=Math.sin(-B);D||(r+=b.plotLeft,y+=b.plotTop);return c.map(i,function(g){var f,m;m=(o?g.y:g.x)-r;var k=(o?g.x:g.y)-y,h=(g.z||0)-l;f=C*m-j*h;g=-x*j*m+n*k-C*x*h;m=n*j*m+x*k+n*C*h;k=0<s&&s<Number.POSITIVE_INFINITY?s/(m+l+s):1;f=f*k*w+r;g=g*k*w+y;return{x:o?g:f,y:o?f:g,z:m*w+l}})};c.pointCameraDistance=function(f,h){var g=h.options.chart.options3d,i=h.plotWidth/2;h=h.plotHeight/2;g=e(g.depth,1)*e(g.viewDistance,0)+g.depth;return Math.sqrt(Math.pow(i-f.plotX,2)+Math.pow(h-f.plotY,2)+Math.pow(g-f.plotZ,2))}})(a);(function(S){function F(f){var c=0,e,g;for(e=0;e<f.length;e++){g=(e+1)%f.length,c+=f[e].x*f[g].y-f[g].x*f[e].y}return c/2}function J(e){var c=0,d;for(d=0;d<e.length;d++){c+=e[d].z}return e.length?c/e.length:0}function I(u,t,h,q,r,m,v,p){var n=[],g=m-r;return m>r&&m-r>Math.PI/2+0.0001?(n=n.concat(I(u,t,h,q,r,r+Math.PI/2,v,p)),n=n.concat(I(u,t,h,q,r+Math.PI/2,m,v,p))):m<r&&r-m>Math.PI/2+0.0001?(n=n.concat(I(u,t,h,q,r,r-Math.PI/2,v,p)),n=n.concat(I(u,t,h,q,r-Math.PI/2,m,v,p))):["C",u+h*Math.cos(r)-h*j*g*Math.sin(r)+v,t+q*Math.sin(r)+q*j*g*Math.cos(r)+p,u+h*Math.cos(m)+h*j*g*Math.sin(m)+v,t+q*Math.sin(m)-q*j*g*Math.cos(m)+p,u+h*Math.cos(m)+v,t+q*Math.sin(m)+p]}var G=Math.cos,y=Math.PI,P=Math.sin,M=S.animObject,N=S.charts,R=S.color,K=S.defined,O=S.deg2rad,Q=S.each,T=S.extend,L=S.inArray,o=S.map,i=S.merge,H=S.perspective,l=S.pick,B=S.SVGElement,E=S.SVGRenderer,s=S.wrap,j=4*(Math.sqrt(2)-1)/3/(y/2);s(E.prototype,"init",function(b){b.apply(this,[].slice.call(arguments,1));Q([{name:"darker",slope:0.6},{name:"brighter",slope:1.4}],function(c){this.definition({tagName:"filter",id:"highcharts-"+c.name,children:[{tagName:"feComponentTransfer",children:[{tagName:"feFuncR",type:"linear",slope:c.slope},{tagName:"feFuncG",type:"linear",slope:c.slope},{tagName:"feFuncB",type:"linear",slope:c.slope}]}]})},this)});E.prototype.toLinePath=function(e,c){var d=[];Q(e,function(b){d.push("L",b.x,b.y)});e.length&&(d[0]="M",c&&d.push("Z"));return d};E.prototype.cuboid=function(b){var c=this.g();b=this.cuboidPath(b);c.front=this.path(b[0]).attr({"class":"highcharts-3d-front",zIndex:b[3]}).add(c);c.top=this.path(b[1]).attr({"class":"highcharts-3d-top",zIndex:b[4]}).add(c);c.side=this.path(b[2]).attr({"class":"highcharts-3d-side",zIndex:b[5]}).add(c);c.fillSetter=function(d){this.front.attr({fill:d});this.top.attr({fill:R(d).brighten(0.1).get()});this.side.attr({fill:R(d).brighten(-0.1).get()});this.color=d;return this};c.opacitySetter=function(d){this.front.attr({opacity:d});this.top.attr({opacity:d});this.side.attr({opacity:d});return this};c.attr=function(d){if(d.shapeArgs||K(d.x)){d=this.renderer.cuboidPath(d.shapeArgs||d),this.front.attr({d:d[0],zIndex:d[3]}),this.top.attr({d:d[1],zIndex:d[4]}),this.side.attr({d:d[2],zIndex:d[5]})}else{return S.SVGElement.prototype.attr.call(this,d)}return this};c.animate=function(f,g,e){K(f.x)&&K(f.y)?(f=this.renderer.cuboidPath(f),this.front.attr({zIndex:f[3]}).animate({d:f[0]},g,e),this.top.attr({zIndex:f[4]}).animate({d:f[1]},g,e),this.side.attr({zIndex:f[5]}).animate({d:f[2]},g,e),this.attr({zIndex:-f[6]})):f.opacity?(this.front.animate(f,g,e),this.top.animate(f,g,e),this.side.animate(f,g,e)):B.prototype.animate.call(this,f,g,e);return this};c.destroy=function(){this.front.destroy();this.top.destroy();this.side.destroy();return null};c.attr({zIndex:-b[6]});return c};E.prototype.cuboidPath=function(u){function q(b){return g[b]}var t=u.x,r=u.y,h=u.z,p=u.height,v=u.width,n=u.depth,g=[{x:t,y:r,z:h},{x:t+v,y:r,z:h},{x:t+v,y:r+p,z:h},{x:t,y:r+p,z:h},{x:t,y:r+p,z:h+n},{x:t+v,y:r+p,z:h+n},{x:t+v,y:r,z:h+n},{x:t,y:r,z:h+n}],g=H(g,N[this.chartIndex],u.insidePlotArea),h=function(e,d){var f=[];e=o(e,q);d=o(d,q);0>F(e)?f=e:0>F(d)&&(f=d);return f};u=h([3,2,1,0],[7,6,5,4]);t=[4,5,2,3];r=h([1,6,7,0],t);h=h([1,2,5,6],[0,7,4,3]);return[this.toLinePath(u,!0),this.toLinePath(r,!0),this.toLinePath(h,!0),J(u),J(r),J(h),9000000000*J(o(t,q))]};S.SVGRenderer.prototype.arc3d=function(d){function h(k){var e=!1,m={},n;for(n in k){-1!==L(n,g)&&(m[n]=k[n],delete k[n],e=!0)}return e?m:!1}var f=this.g(),c=f.renderer,g="x y r innerR start end".split(" ");d=i(d);d.alpha*=O;d.beta*=O;f.top=c.path();f.side1=c.path();f.side2=c.path();f.inn=c.path();f.out=c.path();f.onAdd=function(){var k=f.parentGroup,e=f.attr("class");f.top.add(f);Q(["out","inn","side1","side2"],function(b){f[b].addClass(e+" highcharts-3d-side").add(k)})};f.setPaths=function(k){var e=f.renderer.arc3dPath(k),m=100*e.zTop;f.attribs=k;f.top.attr({d:e.top,zIndex:e.zTop});f.inn.attr({d:e.inn,zIndex:e.zInn});f.out.attr({d:e.out,zIndex:e.zOut});f.side1.attr({d:e.side1,zIndex:e.zSide1});f.side2.attr({d:e.side2,zIndex:e.zSide2});f.zIndex=m;f.attr({zIndex:m});k.center&&(f.top.setRadialReference(k.center),delete k.center)};f.setPaths(d);f.fillSetter=function(k){var e=R(k).brighten(-0.1).get();this.fill=k;this.side1.attr({fill:e});this.side2.attr({fill:e});this.inn.attr({fill:e});this.out.attr({fill:e});this.top.attr({fill:k});return this};Q(["opacity","translateX","translateY","visibility"],function(b){f[b+"Setter"]=function(k,e){f[e]=k;Q(["out","inn","side1","side2","top"],function(m){f[m].attr(e,k)})}});s(f,"attr",function(e,n,p){var m;"object"===typeof n&&(m=h(n))&&(T(f.attribs,m),f.setPaths(f.attribs));return e.call(this,n,p)});s(f,"animate",function(n,e,r,t){var p,m=this.attribs,q;delete e.center;delete e.z;delete e.depth;delete e.alpha;delete e.beta;q=M(l(r,this.renderer.globalAnimation));q.duration&&(e=i(e),p=h(e),e.dummy=1,p&&(q.step=function(u,k){function v(b){return m[b]+(l(p[b],m[b])-m[b])*k.pos}"dummy"===k.prop&&k.elem.setPaths(i(m,{x:v("x"),y:v("y"),r:v("r"),innerR:v("innerR"),start:v("start"),end:v("end")}))}),r=q);return n.call(this,e,r,t)});f.destroy=function(){this.top.destroy();this.out.destroy();this.inn.destroy();this.side1.destroy();this.side2.destroy();B.prototype.destroy.call(this)};f.hide=function(){this.top.hide();this.out.hide();this.inn.hide();this.side1.hide();this.side2.hide()};f.show=function(){this.top.show();this.out.show();this.inn.show();this.side1.show();this.side2.show()};return f};E.prototype.arc3dPath=function(ak){function aj(b){b%=2*Math.PI;b>Math.PI&&(b=2*Math.PI-b);return b}var ah=ak.x,ai=ak.y,ad=ak.start,ag=ak.end-0.00001,ac=ak.r,ae=ak.innerR,ab=ak.depth,af=ak.alpha,U=ak.beta,e=Math.cos(ad),Y=Math.sin(ad);ak=Math.cos(ag);var aa=Math.sin(ag),p=ac*Math.cos(U),ac=ac*Math.cos(af),q=ae*Math.cos(U),Z=ae*Math.cos(af),ae=ab*Math.sin(U),V=ab*Math.sin(af),ab=["M",ah+p*e,ai+ac*Y],ab=ab.concat(I(ah,ai,p,ac,ad,ag,0,0)),ab=ab.concat(["L",ah+q*ak,ai+Z*aa]),ab=ab.concat(I(ah,ai,q,Z,ag,ad,0,0)),ab=ab.concat(["Z"]),X=0<U?Math.PI/2:0,U=0<af?0:Math.PI/2,X=ad>-X?ad:ag>-X?-X:ad,t=ag<y-U?ag:ad<y-U?y-U:ag,W=2*y-U,af=["M",ah+p*G(X),ai+ac*P(X)],af=af.concat(I(ah,ai,p,ac,X,t,0,0));ag>W&&ad<W?(af=af.concat(["L",ah+p*G(t)+ae,ai+ac*P(t)+V]),af=af.concat(I(ah,ai,p,ac,t,W,ae,V)),af=af.concat(["L",ah+p*G(W),ai+ac*P(W)]),af=af.concat(I(ah,ai,p,ac,W,ag,0,0)),af=af.concat(["L",ah+p*G(ag)+ae,ai+ac*P(ag)+V]),af=af.concat(I(ah,ai,p,ac,ag,W,ae,V)),af=af.concat(["L",ah+p*G(W),ai+ac*P(W)]),af=af.concat(I(ah,ai,p,ac,W,t,0,0))):ag>y-U&&ad<y-U&&(af=af.concat(["L",ah+p*Math.cos(t)+ae,ai+ac*Math.sin(t)+V]),af=af.concat(I(ah,ai,p,ac,t,ag,ae,V)),af=af.concat(["L",ah+p*Math.cos(ag),ai+ac*Math.sin(ag)]),af=af.concat(I(ah,ai,p,ac,ag,t,0,0)));af=af.concat(["L",ah+p*Math.cos(t)+ae,ai+ac*Math.sin(t)+V]);af=af.concat(I(ah,ai,p,ac,t,X,ae,V));af=af.concat(["Z"]);U=["M",ah+q*e,ai+Z*Y];U=U.concat(I(ah,ai,q,Z,ad,ag,0,0));U=U.concat(["L",ah+q*Math.cos(ag)+ae,ai+Z*Math.sin(ag)+V]);U=U.concat(I(ah,ai,q,Z,ag,ad,ae,V));U=U.concat(["Z"]);e=["M",ah+p*e,ai+ac*Y,"L",ah+p*e+ae,ai+ac*Y+V,"L",ah+q*e+ae,ai+Z*Y+V,"L",ah+q*e,ai+Z*Y,"Z"];ah=["M",ah+p*ak,ai+ac*aa,"L",ah+p*ak+ae,ai+ac*aa+V,"L",ah+q*ak+ae,ai+Z*aa+V,"L",ah+q*ak,ai+Z*aa,"Z"];aa=Math.atan2(V,-ae);ai=Math.abs(ag+aa);ak=Math.abs(ad+aa);ad=Math.abs((ad+ag)/2+aa);ai=aj(ai);ak=aj(ak);ad=aj(ad);ad*=100000;ag=100000*ak;ai*=100000;return{top:ab,zTop:100000*Math.PI+1,out:af,zOut:Math.max(ad,ag,ai),inn:U,zInn:Math.max(ad,ag,ai),side1:e,zSide1:0.99*ai,side2:ah,zSide2:0.99*ag}}})(a);(function(m){function c(D,v){var C=D.plotLeft,B=D.plotWidth+C,F=D.plotTop,w=D.plotHeight+F,A=C+D.plotWidth/2,z=F+D.plotHeight/2,y=Number.MAX_VALUE,t=-Number.MAX_VALUE,s=Number.MAX_VALUE,p=-Number.MAX_VALUE,G,E=1;G=[{x:C,y:F,z:0},{x:C,y:F,z:v}];f([0,1],function(b){G.push({x:B,y:G[b].y,z:G[b].z})});f([0,1,2,3],function(b){G.push({x:G[b].x,y:w,z:G[b].z})});G=o(G,D,!1);f(G,function(b){y=Math.min(y,b.x);t=Math.max(t,b.x);s=Math.min(s,b.y);p=Math.max(p,b.y)});C>y&&(E=Math.min(E,1-Math.abs((C+A)/(y+A))%1));B<t&&(E=Math.min(E,(B-A)/(t-A)));F>s&&(E=0>s?Math.min(E,(F+z)/(-s+F+z)):Math.min(E,1-(F+z)/(s+z)%1));w<p&&(E=Math.min(E,Math.abs((w-z)/(p-z))));return E}var i=m.Chart,f=m.each,d=m.merge,o=m.perspective,l=m.pick,j=m.wrap;i.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled};i.prototype.propsRequireDirtyBox.push("chart.options3d");i.prototype.propsRequireUpdateSeries.push("chart.options3d");m.wrap(m.Chart.prototype,"isInsidePlot",function(e){return this.is3d()||e.apply(this,[].slice.call(arguments,1))});var k=m.getOptions();d(!0,k,{chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,frame:{bottom:{size:1},side:{size:1},back:{size:1}}}},defs:{style:{textContent:k.defs.style.textContent+"\n.highcharts-3d-top{filter: url(#highcharts-brighter)}\n.highcharts-3d-side{filter: url(#highcharts-darker)}"}}});j(i.prototype,"setClassName",function(e){e.apply(this,[].slice.call(arguments,1));this.is3d()&&(this.container.className+=" highcharts-3d-chart")});m.wrap(m.Chart.prototype,"setChartSize",function(e){var p=this.options.chart.options3d;e.apply(this,[].slice.call(arguments,1));if(this.is3d()){var h=this.inverted,n=this.clipBox,g=this.margin;n[h?"y":"x"]=-(g[3]||0);n[h?"x":"y"]=-(g[0]||0);n[h?"height":"width"]=this.chartWidth+(g[3]||0)+(g[1]||0);n[h?"width":"height"]=this.chartHeight+(g[0]||0)+(g[2]||0);this.scale3d=1;!0===p.fitToPlot&&(this.scale3d=c(this,p.depth))}});j(i.prototype,"redraw",function(e){this.is3d()&&(this.isDirtyBox=!0);e.apply(this,[].slice.call(arguments,1))});j(i.prototype,"renderSeries",function(e){var g=this.series.length;if(this.is3d()){for(;g--;){e=this.series[g],e.translate(),e.render()}}else{e.call(this)}});i.prototype.retrieveStacks=function(e){var p=this.series,h={},n,g=1;f(this.series,function(b){n=l(b.options.stack,e?0:p.length-1-b.index);h[n]?h[n].series.push(b):(h[n]={series:[b],position:g},g++)});h.totalStacks=g+1;return h}})(a);(function(x){var d,k=x.Axis,j=x.Chart,i=x.each,y=x.extend,v=x.merge,o=x.perspective,s=x.pick,w=x.splat,l=x.Tick,u=x.wrap;u(k.prototype,"setOptions",function(c,e){c.call(this,e);this.chart.is3d()&&(c=this.options,c.tickWidth=s(c.tickWidth,0),c.gridLineWidth=s(c.gridLineWidth,1))});u(k.prototype,"render",function(G){G.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var H=this.chart,E=H.renderer,F=H.options.chart.options3d,C=F.frame,D=C.bottom,z=C.back,C=C.side,B=F.depth,A=this.height,r=this.width,I=this.left,q=this.top;this.isZAxis||(this.horiz?(D={x:I,y:q+(H.xAxis[0].opposite?-D.size:A),z:0,width:r,height:D.size,depth:B,insidePlotArea:!1},this.bottomFrame?this.bottomFrame.animate(D):this.bottomFrame=E.cuboid(D).attr({"class":"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:H.yAxis[0].reversed&&0<F.alpha?4:-1}).add()):(F={x:I+(H.yAxis[0].opposite?0:-C.size),y:q+(H.xAxis[0].opposite?-D.size:0),z:B,width:r+C.size,height:A+D.size,depth:z.size,insidePlotArea:!1},this.backFrame?this.backFrame.animate(F):this.backFrame=E.cuboid(F).attr({"class":"highcharts-3d-frame highcharts-3d-frame-back",zIndex:-3}).add(),H={x:I+(H.yAxis[0].opposite?r:-C.size),y:q+(H.xAxis[0].opposite?-D.size:0),z:0,width:C.size,height:A+D.size,depth:B,insidePlotArea:!1},this.sideFrame?this.sideFrame.animate(H):this.sideFrame=E.cuboid(H).attr({"class":"highcharts-3d-frame highcharts-3d-frame-side",zIndex:-2}).add()))}});u(k.prototype,"getPlotLinePath",function(e){var f=e.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d()||null===f){return f}var g=this.chart,h=g.options.chart.options3d,g=this.isZAxis?g.plotWidth:h.depth,h=this.opposite;this.horiz&&(h=!h);f=[this.swapZ({x:f[1],y:f[2],z:h?g:0}),this.swapZ({x:f[1],y:f[2],z:g}),this.swapZ({x:f[4],y:f[5],z:g}),this.swapZ({x:f[4],y:f[5],z:h?0:g})];f=o(f,this.chart,!1);return f=this.chart.renderer.toLinePath(f,!1)});u(k.prototype,"getLinePath",function(c){return this.chart.is3d()?[]:c.apply(this,[].slice.call(arguments,1))});u(k.prototype,"getPlotBandPath",function(c){if(!this.chart.is3d()){return c.apply(this,[].slice.call(arguments,1))}var e=arguments,f=e[1],e=this.getPlotLinePath(e[2]);(f=this.getPlotLinePath(f))&&e?f.push("L",e[10],e[11],"L",e[7],e[8],"L",e[4],e[5],"L",e[1],e[2]):f=null;return f});u(l.prototype,"getMarkPath",function(c){var e=c.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d()){return e}e=[this.axis.swapZ({x:e[1],y:e[2],z:0}),this.axis.swapZ({x:e[4],y:e[5],z:0})];e=o(e,this.axis.chart,!1);return e=["M",e[0].x,e[0].y,"L",e[1].x,e[1].y]});u(l.prototype,"getLabelPosition",function(c){var e=c.apply(this,[].slice.call(arguments,1));this.axis.chart.is3d()&&(e=o([this.axis.swapZ({x:e.x,y:e.y,z:0})],this.axis.chart,!1)[0]);return e});x.wrap(k.prototype,"getTitlePosition",function(e){var f=this.chart.is3d(),g,h;f&&(h=this.axisTitleMargin,this.axisTitleMargin=0);g=e.apply(this,[].slice.call(arguments,1));f&&(g=o([this.swapZ({x:g.x,y:g.y,z:0})],this.chart,!1)[0],g[this.horiz?"y":"x"]+=(this.horiz?1:-1)*(this.opposite?-1:1)*h,this.axisTitleMargin=h);return g});u(k.prototype,"drawCrosshair",function(c){var e=arguments;this.chart.is3d()&&e[2]&&(e[2]={plotX:e[2].plotXold||e[2].plotX,plotY:e[2].plotYold||e[2].plotY});c.apply(this,[].slice.call(e,1))});k.prototype.swapZ=function(c,e){if(this.isZAxis){e=e?0:this.chart.plotLeft;var f=this.chart;return{x:e+(f.yAxis[0].opposite?c.z:f.xAxis[0].width-c.z),y:c.y,z:c.x-e}}return c};d=x.ZAxis=function(){this.isZAxis=!0;this.init.apply(this,arguments)};y(d.prototype,k.prototype);y(d.prototype,{setOptions:function(c){c=v({offset:0,lineWidth:0},c);k.prototype.setOptions.call(this,c);this.coll="zAxis"},setAxisSize:function(){k.prototype.setAxisSize.call(this);this.width=this.len=this.chart.options.chart.options3d.depth;this.right=this.chart.chartWidth-this.width-this.left},getSeriesExtremes:function(){var c=this,e=c.chart;c.hasVisibleSeries=!1;c.dataMin=c.dataMax=c.ignoreMinPadding=c.ignoreMaxPadding=null;c.buildStacks&&c.buildStacks();i(c.series,function(b){if(b.visible||!e.options.chart.ignoreHiddenSeries){c.hasVisibleSeries=!0,b=b.zData,b.length&&(c.dataMin=Math.min(s(c.dataMin,b[0]),Math.min.apply(null,b)),c.dataMax=Math.max(s(c.dataMax,b[0]),Math.max.apply(null,b)))}})}});u(j.prototype,"getAxes",function(c){var e=this,f=this.options,f=f.zAxis=w(f.zAxis||{});c.call(this);e.is3d()&&(this.zAxis=[],i(f,function(g,h){g.index=h;g.isX=!0;(new d(e,g)).setScale()}))})})(a);(function(c){function g(e){if(this.chart.is3d()){var h=this.chart.options.plotOptions.column.grouping;void 0===h||h||void 0===this.group.zIndex||this.zIndexSet||(this.group.attr({zIndex:10*this.group.zIndex}),this.zIndexSet=!0)}e.apply(this,[].slice.call(arguments,1))}var l=c.each,k=c.perspective,i=c.pick,d=c.Series,j=c.seriesTypes,f=c.svg;c=c.wrap;c(j.column.prototype,"translate",function(h){h.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var p=this.chart,n=this.options,m=n.depth||25,o=(n.stacking?n.stack||0:this._i)*(m+(n.groupZPadding||1));!1!==n.grouping&&(o=0);o+=n.groupZPadding||1;l(this.data,function(r){if(null!==r.y){var q=r.shapeArgs,s=r.tooltipPos;r.shapeType="cuboid";q.z=o;q.depth=m;q.insidePlotArea=!0;s=k([{x:s[0],y:s[1],z:o}],p,!0)[0];r.tooltipPos=[s.x,s.y]}});this.z=o}});c(j.column.prototype,"animate",function(h){if(this.chart.is3d()){var p=arguments[1],n=this.yAxis,m=this,o=this.yAxis.reversed;f&&(p?l(m.data,function(b){null!==b.y&&(b.height=b.shapeArgs.height,b.shapey=b.shapeArgs.y,b.shapeArgs.height=1,o||(b.shapeArgs.y=b.stackY?b.plotY+n.translate(b.stackY):b.plotY+(b.negative?-b.height:b.height)))}):(l(m.data,function(b){null!==b.y&&(b.shapeArgs.height=b.height,b.shapeArgs.y=b.shapey,b.graphic&&b.graphic.animate(b.shapeArgs,m.options.animation))}),this.drawDataLabels(),m.animate=null))}else{h.apply(this,[].slice.call(arguments,1))}});c(j.column.prototype,"init",function(h){h.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var q=this.options,o=q.grouping,n=q.stacking,p=i(this.yAxis.options.reversedStacks,!0),m=0;if(void 0===o||o){o=this.chart.retrieveStacks(n);m=q.stack||0;for(n=0;n<o[m].series.length&&o[m].series[n]!==this;n++){}m=10*(o.totalStacks-o[m].position)+(p?n:-n);this.xAxis.reversed||(m=10*o.totalStacks-m)}q.zIndex=m}});c(d.prototype,"alignDataLabel",function(h){if(this.chart.is3d()&&("column"===this.type||"columnrange"===this.type)){var n=arguments[4],m={x:n.x,y:n.y,z:this.z},m=k([m],this.chart,!0)[0];n.x=m.x;n.y=m.y}h.apply(this,[].slice.call(arguments,1))});j.columnrange&&c(j.columnrange.prototype,"drawPoints",g);c(j.column.prototype,"drawPoints",g)})(a);(function(c){var d=c.deg2rad,g=c.each,f=c.seriesTypes,e=c.svg;c=c.wrap;c(f.pie.prototype,"translate",function(j){j.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var o=this,k=o.options,l=k.depth||0,q=o.chart.options.chart.options3d,i=q.alpha,n=q.beta,p=k.stacking?(k.stack||0)*l:o._i*l,p=p+l/2;!1!==k.grouping&&(p=0);g(o.data,function(m){var h=m.shapeArgs;m.shapeType="arc3d";h.z=p;h.depth=0.75*l;h.alpha=i;h.beta=n;h.center=o.center;h=(h.end+h.start)/2;m.slicedTranslation={translateX:Math.round(Math.cos(h)*k.slicedOffset*Math.cos(i*d)),translateY:Math.round(Math.sin(h)*k.slicedOffset*Math.cos(i*d))}})}});c(f.pie.prototype.pointClass.prototype,"haloPath",function(h){var i=arguments;return this.series.chart.is3d()?[]:h.call(this,i[1])});c(f.pie.prototype,"drawPoints",function(h){h.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&g(this.points,function(i){var j=i.graphic;if(j){j[i.y&&i.visible?"show":"hide"]()}})});c(f.pie.prototype,"drawDataLabels",function(h){if(this.chart.is3d()){var i=this.chart.options.chart.options3d;g(this.data,function(j){var m=j.shapeArgs,p=m.r,l=(m.start+m.end)/2,n=j.labelPos,o=-p*(1-Math.cos((m.alpha||i.alpha)*d))*Math.sin(l),k=p*(Math.cos((m.beta||i.beta)*d)-1)*Math.cos(l);g([0,2,4],function(q){n[q]+=k;n[q+1]+=o})})}h.apply(this,[].slice.call(arguments,1))});c(f.pie.prototype,"addPoint",function(h){h.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&this.update(this.userOptions,!0)});c(f.pie.prototype,"animate",function(j){if(this.chart.is3d()){var n=arguments[1],k=this.options.animation,l=this.center,o=this.group,i=this.markerGroup;e&&(!0===k&&(k={}),n?(o.oldtranslateX=o.translateX,o.oldtranslateY=o.translateY,n={translateX:l[0],translateY:l[1],scaleX:0.001,scaleY:0.001},o.attr(n),i&&(i.attrSetters=o.attrSetters,i.attr(n))):(n={translateX:o.oldtranslateX,translateY:o.oldtranslateY,scaleX:1,scaleY:1},o.animate(n,k),i&&i.animate(n,k),this.animate=null))}else{j.apply(this,[].slice.call(arguments,1))}})})(a);(function(c){var d=c.perspective,g=c.pick,f=c.seriesTypes,e=c.wrap;e(f.scatter.prototype,"translate",function(j){j.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var o=this.chart,k=g(this.zAxis,o.options.zAxis[0]),l=[],p,i,n;for(n=0;n<this.data.length;n++){p=this.data[n],i=k.isLog&&k.val2lin?k.val2lin(p.z):p.z,p.plotZ=k.translate(i),p.isInside=p.isInside?i>=k.min&&i<=k.max:!1,l.push({x:p.plotX,y:p.plotY,z:p.plotZ})}o=d(l,o,!0);for(n=0;n<this.data.length;n++){p=this.data[n],k=o[n],p.plotXold=p.plotX,p.plotYold=p.plotY,p.plotZold=p.plotZ,p.plotX=k.x,p.plotY=k.y,p.plotZ=k.z}}});e(f.scatter.prototype,"init",function(i,k,j){k.is3d()&&(this.axisTypes=["xAxis","yAxis","zAxis"],this.pointArrayMap=["x","y","z"],this.parallelArrays=["x","y","z"],this.directTouch=!0);i=i.apply(this,[k,j]);this.chart.is3d()&&(this.tooltipOptions.pointFormat=this.userOptions.tooltip?this.userOptions.tooltip.pointFormat||"x: \x3cb\x3e{point.x}\x3c/b\x3e\x3cbr/\x3ey: \x3cb\x3e{point.y}\x3c/b\x3e\x3cbr/\x3ez: \x3cb\x3e{point.z}\x3c/b\x3e\x3cbr/\x3e":"x: \x3cb\x3e{point.x}\x3c/b\x3e\x3cbr/\x3ey: \x3cb\x3e{point.y}\x3c/b\x3e\x3cbr/\x3ez: \x3cb\x3e{point.z}\x3c/b\x3e\x3cbr/\x3e");return i});e(f.scatter.prototype,"pointAttribs",function(j,i){var b=j.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&i&&(b.zIndex=c.pointCameraDistance(i,this.chart));return b})})(a)});