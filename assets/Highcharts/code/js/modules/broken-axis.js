(function(a){"object"===typeof module&&module.exports?module.exports=a:a(Highcharts)})(function(a){(function(g){function e(){return Array.prototype.slice.call(arguments,1)}function l(f){f.apply(this);this.drawBreaks(this.xAxis,["x"]);this.drawBreaks(this.yAxis,b(this.pointArrayMap,["y"]))}var b=g.pick,d=g.wrap,m=g.each,j=g.extend,k=g.fireEvent,c=g.Axis,i=g.Series;j(c.prototype,{isInBreak:function(n,p){var o=n.repeat||Infinity,f=n.from,h=n.to-n.from;p=p>=f?(p-f)%o:o-(f-p)%o;return n.inclusive?p<=h:p<h&&0!==p},isInAnyBreak:function(o,r){var q=this.options.breaks,h=q&&q.length,n,p,f;if(h){for(;h--;){this.isInBreak(q[h],o)&&(n=!0,p||(p=b(q[h].showPoints,this.isXAxis?!1:!0)))}f=n&&r?n&&!p:n}return f}});d(c.prototype,"setTickPositions",function(n){n.apply(this,Array.prototype.slice.call(arguments,1));if(this.options.breaks){var p=this.tickPositions,o=this.tickPositions.info,f=[],h;for(h=0;h<p.length;h++){this.isInAnyBreak(p[h])||f.push(p[h])}this.tickPositions=f;this.tickPositions.info=o}});d(c.prototype,"init",function(h,o,n){n.breaks&&n.breaks.length&&(n.ordinal=!1);h.call(this,o,n);if(this.options.breaks){var f=this;f.isBroken=!0;this.val2lin=function(q){var r=q,p,s;for(s=0;s<f.breakArray.length;s++){if(p=f.breakArray[s],p.to<=q){r-=p.len}else{if(p.from>=q){break}else{if(f.isInBreak(p,q)){r-=q-p.from;break}}}}return r};this.lin2val=function(p){var q,r;for(r=0;r<f.breakArray.length&&!(q=f.breakArray[r],q.from>=p);r++){q.to<p?p+=q.len:f.isInBreak(q,p)&&(p+=q.len)}return p};this.setExtremes=function(q,p,s,r,t){for(;this.isInAnyBreak(q);){q-=this.closestPointRange}for(;this.isInAnyBreak(p);){p-=this.closestPointRange}c.prototype.setExtremes.call(this,q,p,s,r,t)};this.setAxisTranslation=function(y){c.prototype.setAxisTranslation.call(this,y);var v=f.options.breaks;y=[];var w=[],t=0,x,r,p=f.userMin||f.min,u=f.userMax||f.max,q,s;for(s in v){r=v[s],x=r.repeat||Infinity,f.isInBreak(r,p)&&(p+=r.to%x-p%x),f.isInBreak(r,u)&&(u-=u%x-r.from%x)}for(s in v){r=v[s];q=r.from;for(x=r.repeat||Infinity;q-x>p;){q-=x}for(;q<p;){q+=x}for(;q<u;q+=x){y.push({value:q,move:"in"}),y.push({value:q+(r.to-r.from),move:"out",size:r.breakSize})}}y.sort(function(A,z){return A.value===z.value?("in"===A.move?0:1)-("in"===z.move?0:1):A.value-z.value});v=0;q=p;for(s in y){r=y[s],v+="in"===r.move?1:-1,1===v&&"in"===r.move&&(q=r.value),0===v&&(w.push({from:q,to:r.value,len:r.value-q-(r.size||0)}),t+=r.value-q-(r.size||0))}f.breakArray=w;k(f,"afterBreaks");f.transA*=(u-f.min)/(u-p-t);f.min=p;f.max=u}}});d(i.prototype,"generatePoints",function(p){p.apply(this,e(arguments));var t=this.xAxis,s=this.yAxis,h=this.points,o,r=h.length,q=this.options.connectNulls,n;if(t&&s&&(t.options.breaks||s.options.breaks)){for(;r--;){o=h[r],n=null===o.y&&!1===q,n||!t.isInAnyBreak(o.x,!0)&&!s.isInAnyBreak(o.y,!0)||(h.splice(r,1),this.data[r]&&this.data[r].destroyElements())}}});g.Series.prototype.drawBreaks=function(q,u){var t=this,n=t.points,o,s,r,p;m(u,function(f){o=q.breakArray||[];s=q.isXAxis?q.min:b(t.options.threshold,q.min);m(n,function(h){p=b(h["stack"+f.toUpperCase()],h[f]);m(o,function(v){r=!1;if(s<v.from&&p>v.to||s>v.from&&p<v.from){r="pointBreak"}else{if(s<v.from&&p>v.from&&p<v.to||s>v.from&&p>v.to&&p<v.from){r="pointInBreak"}}r&&k(q,r,{point:h,brk:v})})})})};d(g.seriesTypes.column.prototype,"drawPoints",l);d(g.Series.prototype,"drawPoints",l)})(a)});