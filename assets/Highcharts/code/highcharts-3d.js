(function(a){"object"===typeof module&&module.exports?module.exports=a:a(Highcharts)})(function(a){(function(b){var d=b.deg2rad,c=b.pick;b.perspective=function(i,k,D){var h=k.options.chart.options3d,r=D?k.inverted:!1,j=k.plotWidth/2,s=k.plotHeight/2,o=h.depth/2,v=c(h.depth,1)*c(h.viewDistance,0),t=k.scale3d||1,B=d*h.beta*(r?-1:1),h=d*h.alpha*(r?-1:1),z=Math.cos(h),E=Math.cos(-B),C=Math.sin(h),A=Math.sin(-B);D||(j+=k.plotLeft,s+=k.plotTop);return b.map(i,function(f){var g,l;l=(r?f.y:f.x)-j;var e=(r?f.x:f.y)-s,n=(f.z||0)-o;g=E*l-A*n;f=-C*A*l+z*e-E*C*n;l=z*A*l+C*e+z*E*n;e=0<v&&v<Number.POSITIVE_INFINITY?v/(l+o+v):1;g=g*e*t+j;f=f*e*t+s;return{x:r?f:g,y:r?g:f,z:l*t+o}})};b.pointCameraDistance=function(f,e){var h=e.options.chart.options3d,g=e.plotWidth/2;e=e.plotHeight/2;h=c(h.depth,1)*c(h.viewDistance,0)+h.depth;return Math.sqrt(Math.pow(g-f.plotX,2)+Math.pow(e-f.plotY,2)+Math.pow(h-f.plotZ,2))}})(a);(function(T){function C(d){var e=0,f,g;for(f=0;f<d.length;f++){g=(f+1)%d.length,e+=d[f].x*d[g].y-d[g].x*d[f].y}return e/2}function M(c){var d=0,e;for(e=0;e<c.length;e++){d+=c[e].z}return c.length?d/c.length:0}function I(t,u,l,r,p,q,n,m){var h=[],w=q-p;return q>p&&q-p>Math.PI/2+0.0001?(h=h.concat(I(t,u,l,r,p,p+Math.PI/2,n,m)),h=h.concat(I(t,u,l,r,p+Math.PI/2,q,n,m))):q<p&&p-q>Math.PI/2+0.0001?(h=h.concat(I(t,u,l,r,p,p-Math.PI/2,n,m)),h=h.concat(I(t,u,l,r,p-Math.PI/2,q,n,m))):["C",t+l*Math.cos(p)-l*z*w*Math.sin(p)+n,u+r*Math.sin(p)+r*z*w*Math.cos(p)+m,t+l*Math.cos(q)+l*z*w*Math.sin(q)+n,u+r*Math.sin(q)-r*z*w*Math.cos(q)+m,t+l*Math.cos(q)+n,u+r*Math.sin(q)+m]}var K=Math.cos,k=Math.PI,E=Math.sin,N=T.animObject,J=T.charts,O=T.color,L=T.defined,Q=T.deg2rad,P=T.each,S=T.extend,R=T.inArray,v=T.map,j=T.merge,i=T.perspective,s=T.pick,H=T.SVGElement,o=T.SVGRenderer,D=T.wrap,z=4*(Math.sqrt(2)-1)/3/(k/2);o.prototype.toLinePath=function(c,d){var e=[];P(c,function(f){e.push("L",f.x,f.y)});c.length&&(e[0]="M",d&&e.push("Z"));return e};o.prototype.cuboid=function(d){var e=this.g();d=this.cuboidPath(d);e.attr({"stroke-linejoin":"round"});e.front=this.path(d[0]).attr({"class":"highcharts-3d-front",zIndex:d[3]}).add(e);e.top=this.path(d[1]).attr({"class":"highcharts-3d-top",zIndex:d[4]}).add(e);e.side=this.path(d[2]).attr({"class":"highcharts-3d-side",zIndex:d[5]}).add(e);e.fillSetter=function(c){this.front.attr({fill:c});this.top.attr({fill:O(c).brighten(0.1).get()});this.side.attr({fill:O(c).brighten(-0.1).get()});this.color=c;return this};e.opacitySetter=function(c){this.front.attr({opacity:c});this.top.attr({opacity:c});this.side.attr({opacity:c});return this};e.attr=function(c){if(c.shapeArgs||L(c.x)){c=this.renderer.cuboidPath(c.shapeArgs||c),this.front.attr({d:c[0],zIndex:c[3]}),this.top.attr({d:c[1],zIndex:c[4]}),this.side.attr({d:c[2],zIndex:c[5]})}else{return T.SVGElement.prototype.attr.call(this,c)}return this};e.animate=function(f,h,g){L(f.x)&&L(f.y)?(f=this.renderer.cuboidPath(f),this.front.attr({zIndex:f[3]}).animate({d:f[0]},h,g),this.top.attr({zIndex:f[4]}).animate({d:f[1]},h,g),this.side.attr({zIndex:f[5]}).animate({d:f[2]},h,g),this.attr({zIndex:-f[6]})):f.opacity?(this.front.animate(f,h,g),this.top.animate(f,h,g),this.side.animate(f,h,g)):H.prototype.animate.call(this,f,h,g);return this};e.destroy=function(){this.front.destroy();this.top.destroy();this.side.destroy();return null};e.attr({zIndex:-d[6]});return e};o.prototype.cuboidPath=function(u){function t(c){return m[c]}var w=u.x,q=u.y,r=u.z,p=u.height,h=u.width,n=u.depth,m=[{x:w,y:q,z:r},{x:w+h,y:q,z:r},{x:w+h,y:q+p,z:r},{x:w,y:q+p,z:r},{x:w,y:q+p,z:r+n},{x:w+h,y:q+p,z:r+n},{x:w+h,y:q,z:r+n},{x:w,y:q,z:r+n}],m=i(m,J[this.chartIndex],u.insidePlotArea),r=function(c,d){var f=[];c=v(c,t);d=v(d,t);0>C(c)?f=c:0>C(d)&&(f=d);return f};u=r([3,2,1,0],[7,6,5,4]);w=[4,5,2,3];q=r([1,6,7,0],w);r=r([1,2,5,6],[0,7,4,3]);return[this.toLinePath(u,!0),this.toLinePath(q,!0),this.toLinePath(r,!0),M(u),M(q),M(r),9000000000*M(v(w,t))]};T.SVGRenderer.prototype.arc3d=function(c){function b(g){var h=!1,l={},m;for(m in g){-1!==R(m,e)&&(l[m]=g[m],delete g[m],h=!0)}return h?l:!1}var d=this.g(),f=d.renderer,e="x y r innerR start end".split(" ");c=j(c);c.alpha*=Q;c.beta*=Q;d.top=f.path();d.side1=f.path();d.side2=f.path();d.inn=f.path();d.out=f.path();d.onAdd=function(){var g=d.parentGroup,h=d.attr("class");d.top.add(d);P(["out","inn","side1","side2"],function(l){d[l].addClass(h+" highcharts-3d-side").add(g)})};d.setPaths=function(g){var h=d.renderer.arc3dPath(g),l=100*h.zTop;d.attribs=g;d.top.attr({d:h.top,zIndex:h.zTop});d.inn.attr({d:h.inn,zIndex:h.zInn});d.out.attr({d:h.out,zIndex:h.zOut});d.side1.attr({d:h.side1,zIndex:h.zSide1});d.side2.attr({d:h.side2,zIndex:h.zSide2});d.zIndex=l;d.attr({zIndex:l});g.center&&(d.top.setRadialReference(g.center),delete g.center)};d.setPaths(c);d.fillSetter=function(g){var h=O(g).brighten(-0.1).get();this.fill=g;this.side1.attr({fill:h});this.side2.attr({fill:h});this.inn.attr({fill:h});this.out.attr({fill:h});this.top.attr({fill:g});return this};P(["opacity","translateX","translateY","visibility"],function(g){d[g+"Setter"]=function(h,l){d[l]=h;P(["out","inn","side1","side2","top"],function(m){d[m].attr(l,h)})}});D(d,"attr",function(g,m,h){var l;"object"===typeof m&&(l=b(m))&&(S(d.attribs,l),d.setPaths(d.attribs));return g.call(this,m,h)});D(d,"animate",function(g,h,q,n){var p,l=this.attribs,m;delete h.center;delete h.z;delete h.depth;delete h.alpha;delete h.beta;m=N(s(q,this.renderer.globalAnimation));m.duration&&(h=j(h),p=b(h),h.dummy=1,p&&(m.step=function(r,t){function u(w){return l[w]+(s(p[w],l[w])-l[w])*t.pos}"dummy"===t.prop&&t.elem.setPaths(j(l,{x:u("x"),y:u("y"),r:u("r"),innerR:u("innerR"),start:u("start"),end:u("end")}))}),q=m);return g.call(this,h,q,n)});d.destroy=function(){this.top.destroy();this.out.destroy();this.inn.destroy();this.side1.destroy();this.side2.destroy();H.prototype.destroy.call(this)};d.hide=function(){this.top.hide();this.out.hide();this.inn.hide();this.side1.hide();this.side2.hide()};d.show=function(){this.top.show();this.out.show();this.inn.show();this.side1.show();this.side2.show()};return d};o.prototype.arc3dPath=function(ai){function aj(c){c%=2*Math.PI;c>Math.PI&&(c=2*Math.PI-c);return c}var ah=ai.x,af=ai.y,ag=ai.start,ae=ai.end-0.00001,ad=ai.r,ab=ai.innerR,U=ai.depth,ac=ai.alpha,aa=ai.beta,q=Math.cos(ag),X=Math.sin(ag);ai=Math.cos(ae);var p=Math.sin(ae),w=ad*Math.cos(aa),ad=ad*Math.cos(ac),V=ab*Math.cos(aa),Y=ab*Math.cos(ac),ab=U*Math.sin(aa),m=U*Math.sin(ac),U=["M",ah+w*q,af+ad*X],U=U.concat(I(ah,af,w,ad,ag,ae,0,0)),U=U.concat(["L",ah+V*ai,af+Y*p]),U=U.concat(I(ah,af,V,Y,ae,ag,0,0)),U=U.concat(["Z"]),G=0<aa?Math.PI/2:0,aa=0<ac?0:Math.PI/2,G=ag>-G?ag:ae>-G?-G:ag,W=ae<k-aa?ae:ag<k-aa?k-aa:ae,Z=2*k-aa,ac=["M",ah+w*K(G),af+ad*E(G)],ac=ac.concat(I(ah,af,w,ad,G,W,0,0));ae>Z&&ag<Z?(ac=ac.concat(["L",ah+w*K(W)+ab,af+ad*E(W)+m]),ac=ac.concat(I(ah,af,w,ad,W,Z,ab,m)),ac=ac.concat(["L",ah+w*K(Z),af+ad*E(Z)]),ac=ac.concat(I(ah,af,w,ad,Z,ae,0,0)),ac=ac.concat(["L",ah+w*K(ae)+ab,af+ad*E(ae)+m]),ac=ac.concat(I(ah,af,w,ad,ae,Z,ab,m)),ac=ac.concat(["L",ah+w*K(Z),af+ad*E(Z)]),ac=ac.concat(I(ah,af,w,ad,Z,W,0,0))):ae>k-aa&&ag<k-aa&&(ac=ac.concat(["L",ah+w*Math.cos(W)+ab,af+ad*Math.sin(W)+m]),ac=ac.concat(I(ah,af,w,ad,W,ae,ab,m)),ac=ac.concat(["L",ah+w*Math.cos(ae),af+ad*Math.sin(ae)]),ac=ac.concat(I(ah,af,w,ad,ae,W,0,0)));ac=ac.concat(["L",ah+w*Math.cos(W)+ab,af+ad*Math.sin(W)+m]);ac=ac.concat(I(ah,af,w,ad,W,G,ab,m));ac=ac.concat(["Z"]);aa=["M",ah+V*q,af+Y*X];aa=aa.concat(I(ah,af,V,Y,ag,ae,0,0));aa=aa.concat(["L",ah+V*Math.cos(ae)+ab,af+Y*Math.sin(ae)+m]);aa=aa.concat(I(ah,af,V,Y,ae,ag,ab,m));aa=aa.concat(["Z"]);q=["M",ah+w*q,af+ad*X,"L",ah+w*q+ab,af+ad*X+m,"L",ah+V*q+ab,af+Y*X+m,"L",ah+V*q,af+Y*X,"Z"];ah=["M",ah+w*ai,af+ad*p,"L",ah+w*ai+ab,af+ad*p+m,"L",ah+V*ai+ab,af+Y*p+m,"L",ah+V*ai,af+Y*p,"Z"];p=Math.atan2(m,-ab);af=Math.abs(ae+p);ai=Math.abs(ag+p);ag=Math.abs((ag+ae)/2+p);af=aj(af);ai=aj(ai);ag=aj(ag);ag*=100000;ae=100000*ai;af*=100000;return{top:U,zTop:100000*Math.PI+1,out:ac,zOut:Math.max(ag,ae,af),inn:aa,zInn:Math.max(ag,ae,af),side1:q,zSide1:0.99*af,side2:ah,zSide2:0.99*ae}}})(a);(function(k){function b(D,x){var A=D.plotLeft,z=D.plotWidth+A,C=D.plotTop,B=D.plotHeight+C,y=A+D.plotWidth/2,v=C+D.plotHeight/2,w=Number.MAX_VALUE,p=-Number.MAX_VALUE,s=Number.MAX_VALUE,u=-Number.MAX_VALUE,o,E=1;o=[{x:A,y:C,z:0},{x:A,y:C,z:x}];d([0,1],function(g){o.push({x:z,y:o[g].y,z:o[g].z})});d([0,1,2,3],function(g){o.push({x:o[g].x,y:B,z:o[g].z})});o=l(o,D,!1);d(o,function(g){w=Math.min(w,g.x);p=Math.max(p,g.x);s=Math.min(s,g.y);u=Math.max(u,g.y)});A>w&&(E=Math.min(E,1-Math.abs((A+y)/(w+y))%1));z<p&&(E=Math.min(E,(z-y)/(p-y)));C>s&&(E=0>s?Math.min(E,(C+v)/(-s+C+v)):Math.min(E,1-(C+v)/(s+v)%1));B<u&&(E=Math.min(E,Math.abs((B-v)/(u-v))));return E}var i=k.Chart,d=k.each,f=k.merge,l=k.perspective,c=k.pick,j=k.wrap;i.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled};i.prototype.propsRequireDirtyBox.push("chart.options3d");i.prototype.propsRequireUpdateSeries.push("chart.options3d");k.wrap(k.Chart.prototype,"isInsidePlot",function(g){return this.is3d()||g.apply(this,[].slice.call(arguments,1))});var e=k.getOptions();f(!0,e,{chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,frame:{bottom:{size:1},side:{size:1},back:{size:1}}}}});j(i.prototype,"setClassName",function(g){g.apply(this,[].slice.call(arguments,1));this.is3d()&&(this.container.className+=" highcharts-3d-chart")});k.wrap(k.Chart.prototype,"setChartSize",function(h){var m=this.options.chart.options3d;h.apply(this,[].slice.call(arguments,1));if(this.is3d()){var o=this.inverted,n=this.clipBox,g=this.margin;n[o?"y":"x"]=-(g[3]||0);n[o?"x":"y"]=-(g[0]||0);n[o?"height":"width"]=this.chartWidth+(g[3]||0)+(g[1]||0);n[o?"width":"height"]=this.chartHeight+(g[0]||0)+(g[2]||0);this.scale3d=1;!0===m.fitToPlot&&(this.scale3d=b(this,m.depth))}});j(i.prototype,"redraw",function(g){this.is3d()&&(this.isDirtyBox=!0);g.apply(this,[].slice.call(arguments,1))});j(i.prototype,"renderSeries",function(g){var h=this.series.length;if(this.is3d()){for(;h--;){g=this.series[h],g.translate(),g.render()}}else{g.call(this)}});i.prototype.retrieveStacks=function(h){var m=this.series,o={},n,g=1;d(this.series,function(p){n=c(p.options.stack,h?0:m.length-1-p.index);o[n]?o[n].series.push(p):(o[n]={series:[p],position:g},g++)});o.totalStacks=g+1;return o}})(a);(function(v){var b,o=v.Axis,e=v.Chart,j=v.each,x=v.extend,c=v.merge,s=v.perspective,i=v.pick,t=v.splat,k=v.Tick,u=v.wrap;u(o.prototype,"setOptions",function(f,d){f.call(this,d);this.chart.is3d()&&(f=this.options,f.tickWidth=i(f.tickWidth,0),f.gridLineWidth=i(f.gridLineWidth,1))});u(o.prototype,"render",function(G){G.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var F=this.chart,E=F.renderer,C=F.options.chart.options3d,D=C.frame,B=D.bottom,A=D.back,D=D.side,z=C.depth,y=this.height,p=this.width,r=this.left,w=this.top;this.isZAxis||(this.horiz?(A={x:r,y:w+(F.xAxis[0].opposite?-B.size:y),z:0,width:p,height:B.size,depth:z,insidePlotArea:!1},this.bottomFrame?this.bottomFrame.animate(A):(this.bottomFrame=E.cuboid(A).attr({"class":"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:F.yAxis[0].reversed&&0<C.alpha?4:-1}).add(),this.bottomFrame.attr({fill:B.color||"none",stroke:B.color||"none"}))):(C={x:r+(F.yAxis[0].opposite?0:-D.size),y:w+(F.xAxis[0].opposite?-B.size:0),z:z,width:p+D.size,height:y+B.size,depth:A.size,insidePlotArea:!1},this.backFrame?this.backFrame.animate(C):(this.backFrame=E.cuboid(C).attr({"class":"highcharts-3d-frame highcharts-3d-frame-back",zIndex:-3}).add(),this.backFrame.attr({fill:A.color||"none",stroke:A.color||"none"})),F={x:r+(F.yAxis[0].opposite?p:-D.size),y:w+(F.xAxis[0].opposite?-B.size:0),z:0,width:D.size,height:y+B.size,depth:z,insidePlotArea:!1},this.sideFrame?this.sideFrame.animate(F):(this.sideFrame=E.cuboid(F).attr({"class":"highcharts-3d-frame highcharts-3d-frame-side",zIndex:-2}).add(),this.sideFrame.attr({fill:D.color||"none",stroke:D.color||"none"}))))}});u(o.prototype,"getPlotLinePath",function(f){var d=f.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d()||null===d){return d}var h=this.chart,g=h.options.chart.options3d,h=this.isZAxis?h.plotWidth:g.depth,g=this.opposite;this.horiz&&(g=!g);d=[this.swapZ({x:d[1],y:d[2],z:g?h:0}),this.swapZ({x:d[1],y:d[2],z:h}),this.swapZ({x:d[4],y:d[5],z:h}),this.swapZ({x:d[4],y:d[5],z:g?0:h})];d=s(d,this.chart,!1);return d=this.chart.renderer.toLinePath(d,!1)});u(o.prototype,"getLinePath",function(d){return this.chart.is3d()?[]:d.apply(this,[].slice.call(arguments,1))});u(o.prototype,"getPlotBandPath",function(f){if(!this.chart.is3d()){return f.apply(this,[].slice.call(arguments,1))}var d=arguments,g=d[1],d=this.getPlotLinePath(d[2]);(g=this.getPlotLinePath(g))&&d?g.push("L",d[10],d[11],"L",d[7],d[8],"L",d[4],d[5],"L",d[1],d[2]):g=null;return g});u(k.prototype,"getMarkPath",function(f){var d=f.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d()){return d}d=[this.axis.swapZ({x:d[1],y:d[2],z:0}),this.axis.swapZ({x:d[4],y:d[5],z:0})];d=s(d,this.axis.chart,!1);return d=["M",d[0].x,d[0].y,"L",d[1].x,d[1].y]});u(k.prototype,"getLabelPosition",function(f){var d=f.apply(this,[].slice.call(arguments,1));this.axis.chart.is3d()&&(d=s([this.axis.swapZ({x:d.x,y:d.y,z:0})],this.axis.chart,!1)[0]);return d});v.wrap(o.prototype,"getTitlePosition",function(f){var d=this.chart.is3d(),h,g;d&&(g=this.axisTitleMargin,this.axisTitleMargin=0);h=f.apply(this,[].slice.call(arguments,1));d&&(h=s([this.swapZ({x:h.x,y:h.y,z:0})],this.chart,!1)[0],h[this.horiz?"y":"x"]+=(this.horiz?1:-1)*(this.opposite?-1:1)*g,this.axisTitleMargin=g);return h});u(o.prototype,"drawCrosshair",function(f){var d=arguments;this.chart.is3d()&&d[2]&&(d[2]={plotX:d[2].plotXold||d[2].plotX,plotY:d[2].plotYold||d[2].plotY});f.apply(this,[].slice.call(d,1))});o.prototype.swapZ=function(f,d){if(this.isZAxis){d=d?0:this.chart.plotLeft;var g=this.chart;return{x:d+(g.yAxis[0].opposite?f.z:g.xAxis[0].width-f.z),y:f.y,z:f.x-d}}return f};b=v.ZAxis=function(){this.isZAxis=!0;this.init.apply(this,arguments)};x(b.prototype,o.prototype);x(b.prototype,{setOptions:function(d){d=c({offset:0,lineWidth:0},d);o.prototype.setOptions.call(this,d);this.coll="zAxis"},setAxisSize:function(){o.prototype.setAxisSize.call(this);this.width=this.len=this.chart.options.chart.options3d.depth;this.right=this.chart.chartWidth-this.width-this.left},getSeriesExtremes:function(){var f=this,d=f.chart;f.hasVisibleSeries=!1;f.dataMin=f.dataMax=f.ignoreMinPadding=f.ignoreMaxPadding=null;f.buildStacks&&f.buildStacks();j(f.series,function(g){if(g.visible||!d.options.chart.ignoreHiddenSeries){f.hasVisibleSeries=!0,g=g.zData,g.length&&(f.dataMin=Math.min(i(f.dataMin,g[0]),Math.min.apply(null,g)),f.dataMax=Math.max(i(f.dataMax,g[0]),Math.max.apply(null,g)))}})}});u(e.prototype,"getAxes",function(f){var d=this,g=this.options,g=g.zAxis=t(g.zAxis||{});f.call(this);d.is3d()&&(this.zAxis=[],j(g,function(h,l){h.index=l;h.isX=!0;(new b(d,h)).setScale()}))})})(a);(function(k){function b(g){var h=g.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&(h.stroke=this.options.edgeColor||h.fill,h["stroke-width"]=l(this.options.edgeWidth,1));return h}function i(g){if(this.chart.is3d()){var h=this.chart.options.plotOptions.column.grouping;void 0===h||h||void 0===this.group.zIndex||this.zIndexSet||(this.group.attr({zIndex:10*this.group.zIndex}),this.zIndexSet=!0)}g.apply(this,[].slice.call(arguments,1))}var d=k.each,f=k.perspective,l=k.pick,c=k.Series,j=k.seriesTypes,e=k.svg;k=k.wrap;k(j.column.prototype,"translate",function(h){h.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var m=this.chart,o=this.options,n=o.depth||25,g=(o.stacking?o.stack||0:this._i)*(n+(o.groupZPadding||1));!1!==o.grouping&&(g=0);g+=o.groupZPadding||1;d(this.data,function(p){if(null!==p.y){var r=p.shapeArgs,q=p.tooltipPos;p.shapeType="cuboid";r.z=g;r.depth=n;r.insidePlotArea=!0;q=f([{x:q[0],y:q[1],z:g}],m,!0)[0];p.tooltipPos=[q.x,q.y]}});this.z=g}});k(j.column.prototype,"animate",function(h){if(this.chart.is3d()){var m=arguments[1],o=this.yAxis,n=this,g=this.yAxis.reversed;e&&(m?d(n.data,function(p){null!==p.y&&(p.height=p.shapeArgs.height,p.shapey=p.shapeArgs.y,p.shapeArgs.height=1,g||(p.shapeArgs.y=p.stackY?p.plotY+o.translate(p.stackY):p.plotY+(p.negative?-p.height:p.height)))}):(d(n.data,function(p){null!==p.y&&(p.shapeArgs.height=p.height,p.shapeArgs.y=p.shapey,p.graphic&&p.graphic.animate(p.shapeArgs,n.options.animation))}),this.drawDataLabels(),n.animate=null))}else{h.apply(this,[].slice.call(arguments,1))}});k(j.column.prototype,"init",function(h){h.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var m=this.options,o=m.grouping,n=m.stacking,g=l(this.yAxis.options.reversedStacks,!0),p=0;if(void 0===o||o){o=this.chart.retrieveStacks(n);p=m.stack||0;for(n=0;n<o[p].series.length&&o[p].series[n]!==this;n++){}p=10*(o.totalStacks-o[p].position)+(g?n:-n);this.xAxis.reversed||(p=10*o.totalStacks-p)}m.zIndex=p}});k(j.column.prototype,"pointAttribs",b);j.columnrange&&k(j.columnrange.prototype,"pointAttribs",b);k(c.prototype,"alignDataLabel",function(g){if(this.chart.is3d()&&("column"===this.type||"columnrange"===this.type)){var h=arguments[4],m={x:h.x,y:h.y,z:this.z},m=f([m],this.chart,!0)[0];h.x=m.x;h.y=m.y}g.apply(this,[].slice.call(arguments,1))});j.columnrange&&k(j.columnrange.prototype,"drawPoints",i);k(j.column.prototype,"drawPoints",i)})(a);(function(d){var f=d.deg2rad,e=d.each,g=d.pick,b=d.seriesTypes,c=d.svg;d=d.wrap;d(b.pie.prototype,"translate",function(i){i.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var j=this,p=j.options,l=p.depth||0,k=j.chart.options.chart.options3d,o=k.alpha,m=k.beta,h=p.stacking?(p.stack||0)*l:j._i*l,h=h+l/2;!1!==p.grouping&&(h=0);e(j.data,function(n){var q=n.shapeArgs;n.shapeType="arc3d";q.z=h;q.depth=0.75*l;q.alpha=o;q.beta=m;q.center=j.center;q=(q.end+q.start)/2;n.slicedTranslation={translateX:Math.round(Math.cos(q)*p.slicedOffset*Math.cos(o*f)),translateY:Math.round(Math.sin(q)*p.slicedOffset*Math.cos(o*f))}})}});d(b.pie.prototype.pointClass.prototype,"haloPath",function(h){var i=arguments;return this.series.chart.is3d()?[]:h.call(this,i[1])});d(b.pie.prototype,"pointAttribs",function(i,k,j){i=i.call(this,k,j);j=this.options;this.chart.is3d()&&(i.stroke=j.edgeColor||k.color||this.color,i["stroke-width"]=g(j.edgeWidth,1));return i});d(b.pie.prototype,"drawPoints",function(h){h.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&e(this.points,function(i){var j=i.graphic;if(j){j[i.y&&i.visible?"show":"hide"]()}})});d(b.pie.prototype,"drawDataLabels",function(h){if(this.chart.is3d()){var i=this.chart.options.chart.options3d;e(this.data,function(m){var n=m.shapeArgs,k=n.r,p=(n.start+n.end)/2,o=m.labelPos,j=-k*(1-Math.cos((n.alpha||i.alpha)*f))*Math.sin(p),q=k*(Math.cos((n.beta||i.beta)*f)-1)*Math.cos(p);e([0,2,4],function(l){o[l]+=q;o[l+1]+=j})})}h.apply(this,[].slice.call(arguments,1))});d(b.pie.prototype,"addPoint",function(h){h.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&this.update(this.userOptions,!0)});d(b.pie.prototype,"animate",function(j){if(this.chart.is3d()){var m=arguments[1],k=this.options.animation,n=this.center,i=this.group,o=this.markerGroup;c&&(!0===k&&(k={}),m?(i.oldtranslateX=i.translateX,i.oldtranslateY=i.translateY,m={translateX:n[0],translateY:n[1],scaleX:0.001,scaleY:0.001},i.attr(m),o&&(o.attrSetters=i.attrSetters,o.attr(m))):(m={translateX:i.oldtranslateX,translateY:i.oldtranslateY,scaleX:1,scaleY:1},i.animate(m,k),o&&o.animate(m,k),this.animate=null))}else{j.apply(this,[].slice.call(arguments,1))}})})(a);(function(c){var e=c.perspective,d=c.pick,f=c.seriesTypes,b=c.wrap;b(f.scatter.prototype,"translate",function(j){j.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var h=this.chart,k=d(this.zAxis,h.options.zAxis[0]),q=[],o,i,p;for(p=0;p<this.data.length;p++){o=this.data[p],i=k.isLog&&k.val2lin?k.val2lin(o.z):o.z,o.plotZ=k.translate(i),o.isInside=o.isInside?i>=k.min&&i<=k.max:!1,q.push({x:o.plotX,y:o.plotY,z:o.plotZ})}h=e(q,h,!0);for(p=0;p<this.data.length;p++){o=this.data[p],k=h[p],o.plotXold=o.plotX,o.plotYold=o.plotY,o.plotZold=o.plotZ,o.plotX=k.x,o.plotY=k.y,o.plotZ=k.z}}});b(f.scatter.prototype,"init",function(i,j,k){j.is3d()&&(this.axisTypes=["xAxis","yAxis","zAxis"],this.pointArrayMap=["x","y","z"],this.parallelArrays=["x","y","z"],this.directTouch=!0);i=i.apply(this,[j,k]);this.chart.is3d()&&(this.tooltipOptions.pointFormat=this.userOptions.tooltip?this.userOptions.tooltip.pointFormat||"x: \x3cb\x3e{point.x}\x3c/b\x3e\x3cbr/\x3ey: \x3cb\x3e{point.y}\x3c/b\x3e\x3cbr/\x3ez: \x3cb\x3e{point.z}\x3c/b\x3e\x3cbr/\x3e":"x: \x3cb\x3e{point.x}\x3c/b\x3e\x3cbr/\x3ey: \x3cb\x3e{point.y}\x3c/b\x3e\x3cbr/\x3ez: \x3cb\x3e{point.z}\x3c/b\x3e\x3cbr/\x3e");return i});b(f.scatter.prototype,"pointAttribs",function(j,i){var k=j.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&i&&(k.zIndex=c.pointCameraDistance(i,this.chart));return k})})(a);(function(b){var d=b.Axis,c=b.SVGRenderer,e=b.VMLRenderer;e&&(b.setOptions({animate:!1}),e.prototype.cuboid=c.prototype.cuboid,e.prototype.cuboidPath=c.prototype.cuboidPath,e.prototype.toLinePath=c.prototype.toLinePath,e.prototype.createElement3D=c.prototype.createElement3D,e.prototype.arc3d=function(f){f=c.prototype.arc3d.call(this,f);f.css({zIndex:f.zIndex});return f},b.VMLRenderer.prototype.arc3dPath=b.SVGRenderer.prototype.arc3dPath,b.wrap(d.prototype,"render",function(f){f.apply(this,[].slice.call(arguments,1));this.sideFrame&&(this.sideFrame.css({zIndex:0}),this.sideFrame.front.attr({fill:this.sideFrame.color}));this.bottomFrame&&(this.bottomFrame.css({zIndex:1}),this.bottomFrame.front.attr({fill:this.bottomFrame.color}));this.backFrame&&(this.backFrame.css({zIndex:0}),this.backFrame.front.attr({fill:this.backFrame.color}))}))})(a)});