(function(a){"object"===typeof module&&module.exports?module.exports=a:a(Highcharts)})(function(a){(function(o){var k=o.defaultOptions,i=o.doc,h=o.Chart,x=o.addEvent,y=o.removeEvent,b=o.fireEvent,d=o.createElement,g=o.discardElement,s=o.css,e=o.merge,c=o.pick,j=o.each,z=o.extend,u=o.isTouchDevice,F=o.win,r=o.Renderer.prototype.symbols;z(k.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"});k.navigation={buttonOptions:{theme:{},symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24}};e(!0,k.navigation,{menuStyle:{border:"1px solid #999999",background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",background:"none",color:"#333333",fontSize:u?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"},buttonOptions:{symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{fill:"#ffffff",stroke:"none",padding:5}}});k.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}};o.post=function(l,f,m){var n;l=d("form",e({method:"post",action:l,enctype:"multipart/form-data"},m),{display:"none"},i.body);for(n in f){d("input",{type:"hidden",name:n,value:f[n]},null,l)}l.submit();g(l)};z(h.prototype,{sanitizeSVG:function(l,f){if(f&&f.exporting&&f.exporting.allowHTML){var m=l.match(/<\/svg>(.*?$)/);m&&(m='\x3cforeignObject x\x3d"0" y\x3d"0" width\x3d"'+f.chart.width+'" height\x3d"'+f.chart.height+'"\x3e\x3cbody xmlns\x3d"http://www.w3.org/1999/xhtml"\x3e'+m[1]+"\x3c/body\x3e\x3c/foreignObject\x3e",l=l.replace("\x3c/svg\x3e",m+"\x3c/svg\x3e"))}l=l.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'\x3csvg xmlns:xlink\x3d"http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href\x3d").replace(/\n/," ").replace(/<\/svg>.*?$/,"\x3c/svg\x3e").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1\x3d"rgb($2)" $1-opacity\x3d"$3"').replace(/&nbsp;/g,"\u00a0").replace(/&shy;/g,"\u00ad");return l=l.replace(/<IMG /g,"\x3cimage ").replace(/<(\/?)TITLE>/g,"\x3c$1title\x3e").replace(/height=([^" ]+)/g,'height\x3d"$1"').replace(/width=([^" ]+)/g,'width\x3d"$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href\x3d"$1"/\x3e').replace(/ id=([^" >]+)/g,' id\x3d"$1"').replace(/class=([^" >]+)/g,'class\x3d"$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(n){return n.toLowerCase()})},getChartHTML:function(){return this.container.innerHTML},getSVG:function(l){var f=this,q,t,p,m,n,v=e(f.options,l);i.createElementNS||(i.createElementNS=function(A,w){return i.createElement(w)});t=d("div",null,{position:"absolute",top:"-9999em",width:f.chartWidth+"px",height:f.chartHeight+"px"},i.body);p=f.renderTo.style.width;n=f.renderTo.style.height;p=v.exporting.sourceWidth||v.chart.width||/px$/.test(p)&&parseInt(p,10)||600;n=v.exporting.sourceHeight||v.chart.height||/px$/.test(n)&&parseInt(n,10)||400;z(v.chart,{animation:!1,renderTo:t,forExport:!0,renderer:"SVGRenderer",width:p,height:n});v.exporting.enabled=!1;delete v.data;v.series=[];j(f.series,function(w){m=e(w.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:w.visible});m.isInternal||v.series.push(m)});q=new o.Chart(v,f.callback);l&&j(["xAxis","yAxis","series"],function(w){var A={};l[w]&&(A[w]=l[w],q.update(A))});j(["xAxis","yAxis"],function(w){j(f[w],function(A,B){B=q[w][B];var C=A.getExtremes();A=C.userMin;C=C.userMax;!B||void 0===A&&void 0===C||B.setExtremes(A,C,!0,!1)})});p=q.getChartHTML();p=f.sanitizeSVG(p,v);v=null;q.destroy();g(t);return p},getSVGForExport:function(l,f){var m=this.options.exporting;return this.getSVG(e({chart:{borderRadius:0}},m.chartOptions,f,{exporting:{sourceWidth:l&&l.sourceWidth||m.sourceWidth,sourceHeight:l&&l.sourceHeight||m.sourceHeight}}))},exportChart:function(l,f){f=this.getSVGForExport(l,f);l=e(this.options.exporting,l);o.post(l.url,{filename:l.filename||"chart",type:l.type,width:l.width||0,scale:l.scale,svg:f},l.formAttributes)},print:function(){var w=this,v=w.container,p=[],q=v.parentNode,m=i.body,n=m.childNodes,l=w.options.exporting.printMaxWidth,t,A;if(!w.isPrinting){w.isPrinting=!0;w.pointer.reset(null,0);b(w,"beforePrint");if(A=l&&w.chartWidth>l){t=[w.options.chart.width,void 0,!1],w.setSize(l,void 0,!1)}j(n,function(B,f){1===B.nodeType&&(p[f]=B.style.display,B.style.display="none")});m.appendChild(v);F.focus();F.print();setTimeout(function(){q.appendChild(v);j(n,function(B,f){1===B.nodeType&&(B.style.display=p[f])});w.isPrinting=!1;A&&w.setSize.apply(w,t);b(w,"afterPrint")},1000)}},contextMenu:function(J,H,B,C,A,K,v){var E=this,w=E.options.navigation,q=E.chartWidth,m=E.chartHeight,n="cache-"+J,t=E[n],I=Math.max(A,K),G,D;t||(E[n]=t=d("div",{className:J},{position:"absolute",zIndex:1000,padding:I+"px"},E.container),G=d("div",{className:"highcharts-menu"},null,t),s(G,z({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},w.menuStyle)),D=function(){s(t,{display:"none"});v&&v.setState(0);E.openMenu=!1},x(t,"mouseleave",function(){t.hideTimer=setTimeout(D,500)}),x(t,"mouseenter",function(){clearTimeout(t.hideTimer)}),n=x(i,"mouseup",function(f){E.pointer.inClass(f.target,J)||D()}),x(E,"destroy",n),j(H,function(l){if(l){var f;l.separator?f=d("hr",null,null,G):(f=d("div",{className:"highcharts-menu-item",onclick:function(p){p&&p.stopPropagation();D();l.onclick&&l.onclick.apply(E,arguments)},innerHTML:l.text||E.options.lang[l.textKey]},null,G),f.onmouseover=function(){s(this,w.menuItemHoverStyle)},f.onmouseout=function(){s(this,w.menuItemStyle)},s(f,z({cursor:"pointer"},w.menuItemStyle)));E.exportDivElements.push(f)}}),E.exportDivElements.push(G,t),E.exportMenuWidth=t.offsetWidth,E.exportMenuHeight=t.offsetHeight);H={display:"block"};B+E.exportMenuWidth>q?H.right=q-B-A-I+"px":H.left=B-I+"px";C+K+E.exportMenuHeight>m&&"top"!==v.alignOptions.verticalAlign?H.bottom=m-C-I+"px":H.top=C+K-I+"px";s(t,H);E.openMenu=!0},addButton:function(J){var I=this,E=I.renderer,G=e(I.options.navigation.buttonOptions,J),D=G.onclick,A=G.menuItems,C,H,w=G.symbolSize||12;I.btnCount||(I.btnCount=0);I.exportDivElements||(I.exportDivElements=[],I.exportSVGElements=[]);if(!1!==G.enabled){var v=G.theme,p=v.states,t=p&&p.hover,p=p&&p.select,B;delete v.states;D?B=function(f){f.stopPropagation();D.call(I,f)}:A&&(B=function(){I.contextMenu(H.menuClassName,A,H.translateX,H.translateY,H.width,H.height,H);H.setState(2)});G.text&&G.symbol?v.paddingLeft=c(v.paddingLeft,25):G.text||z(v,{width:G.width,height:G.height,padding:0});H=E.button(G.text,0,0,B,v,t,p).addClass(J.className).attr({"stroke-linecap":"round",title:I.options.lang[G._titleKey],zIndex:3});H.menuClassName=J.menuClassName||"highcharts-menu-"+I.btnCount++;G.symbol&&(C=E.symbol(G.symbol,G.symbolX-w/2,G.symbolY-w/2,w,w).addClass("highcharts-button-symbol").attr({zIndex:1}).add(H),C.attr({stroke:G.symbolStroke,fill:G.symbolFill,"stroke-width":G.symbolStrokeWidth||1}));H.add().align(z(G,{width:H.width,x:c(G.x,I.buttonOffset)}),!0,"spacingBox");I.buttonOffset+=(H.width+G.buttonSpacing)*("right"===G.align?-1:1);I.exportSVGElements.push(H,C)}},destroyExport:function(l){var f=l?l.target:this;l=f.exportSVGElements;var m=f.exportDivElements;l&&(j(l,function(n,p){n&&(n.onclick=n.ontouchstart=null,f.exportSVGElements[p]=n.destroy())}),l.length=0);m&&(j(m,function(n,p){clearTimeout(n.hideTimer);y(n,"mouseleave");f.exportDivElements[p]=n.onmouseout=n.onmouseover=n.ontouchstart=n.onclick=null;g(n)}),m.length=0)}});r.menu=function(l,f,m,n){return["M",l,f+2.5,"L",l+m,f+2.5,"M",l,f+n/2+0.5,"L",l+m,f+n/2+0.5,"M",l,f+n-1.5,"L",l+m,f+n-1.5]};h.prototype.renderExporting=function(){var l,f=this.options.exporting,m=f.buttons,n=this.isDirtyExporting||!this.exportSVGElements;this.buttonOffset=0;this.isDirtyExporting&&this.destroyExport();if(n&&!1!==f.enabled){for(l in m){this.addButton(m[l])}this.isDirtyExporting=!1}x(this,"destroy",this.destroyExport)};h.prototype.callbacks.push(function(f){f.renderExporting();x(f,"redraw",f.renderExporting);j(["exporting","navigation"],function(l){f[l]={update:function(m,n){f.isDirtyExporting=!0;e(!0,f.options[l],m);c(n,!0)&&f.redraw()}}})})})(a)});